{"remainingRequest":"/home/ec2-user/environment/PlatonViewLogisticReport/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ec2-user/environment/PlatonViewLogisticReport/src/components/YandexMap.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ec2-user/environment/PlatonViewLogisticReport/src/components/YandexMap.vue","mtime":1556543996714},{"path":"/home/ec2-user/environment/PlatonViewLogisticReport/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ec2-user/environment/PlatonViewLogisticReport/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/ec2-user/environment/PlatonViewLogisticReport/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ec2-user/environment/PlatonViewLogisticReport/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n\r\nimport { mapGetters } from \"vuex\";\r\nexport default {\r\n  name: \"YandexMap\",\r\n  props: {\r\n    height: {\r\n      type: [String, Number],\r\n      default: 323\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      map: null\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"getSelectOnly\"])\r\n  },\r\n  watch: {\r\n    getSelectOnly() {\r\n      //Удаление\r\n      this.map.geoObjects.removeAll();\r\n      let multiRoute = new ymaps.multiRouter.MultiRoute(\r\n        {\r\n          referencePoints: [[]],\r\n          params: {\r\n            results: 2,\r\n            \r\n            avoidTrafficJams: false\r\n          }\r\n        },\r\n        { boundsAutoApply: true }\r\n      );\r\n      multiRoute.model.setReferencePoints(this.getSelectOnly);\r\n      this.map.geoObjects.add(multiRoute);\r\n    }\r\n  },\r\n  mounted() {\r\n    // Установить скрипты для использования яндекс карты\r\n    let scriptYandexMap = document.createElement(\"script\");\r\n    scriptYandexMap.setAttribute(\r\n      \"src\",\r\n      \"https://api-maps.yandex.ru/2.1/?lang=ru_RU\"\r\n    );\r\n    document.head.appendChild(scriptYandexMap);\r\n    // Инициализировать яндекс карту\r\n    scriptYandexMap.addEventListener(\"load\", this.initializeYandexMap);\r\n  },\r\n  methods: {\r\n    initializeYandexMap() {\r\n      ymaps.ready(() => {\r\n        this.map = new ymaps.Map(\"map\", {\r\n          center: [45.087145, 38.991338],\r\n          zoom: 7,\r\n          controls: [\"zoomControl\"]\r\n        });\r\n      });\r\n    }\r\n  }\r\n};\r\n",{"version":3,"sources":["YandexMap.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"YandexMap.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div id=\"wrapper\">\r\n    <div :style=\"{ height: height + 'px' }\" id=\"map\" ref=\"map\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nexport default {\r\n  name: \"YandexMap\",\r\n  props: {\r\n    height: {\r\n      type: [String, Number],\r\n      default: 323\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      map: null\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"getSelectOnly\"])\r\n  },\r\n  watch: {\r\n    getSelectOnly() {\r\n      //Удаление\r\n      this.map.geoObjects.removeAll();\r\n      let multiRoute = new ymaps.multiRouter.MultiRoute(\r\n        {\r\n          referencePoints: [[]],\r\n          params: {\r\n            results: 2,\r\n            \r\n            avoidTrafficJams: false\r\n          }\r\n        },\r\n        { boundsAutoApply: true }\r\n      );\r\n      multiRoute.model.setReferencePoints(this.getSelectOnly);\r\n      this.map.geoObjects.add(multiRoute);\r\n    }\r\n  },\r\n  mounted() {\r\n    // Установить скрипты для использования яндекс карты\r\n    let scriptYandexMap = document.createElement(\"script\");\r\n    scriptYandexMap.setAttribute(\r\n      \"src\",\r\n      \"https://api-maps.yandex.ru/2.1/?lang=ru_RU\"\r\n    );\r\n    document.head.appendChild(scriptYandexMap);\r\n    // Инициализировать яндекс карту\r\n    scriptYandexMap.addEventListener(\"load\", this.initializeYandexMap);\r\n  },\r\n  methods: {\r\n    initializeYandexMap() {\r\n      ymaps.ready(() => {\r\n        this.map = new ymaps.Map(\"map\", {\r\n          center: [45.087145, 38.991338],\r\n          zoom: 7,\r\n          controls: [\"zoomControl\"]\r\n        });\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n#wrapper {\r\n  display: flex;\r\n  min-height: 100%;\r\n  flex-direction: column;\r\n}\r\n#map {\r\n  flex: 1;\r\n  border: 1px solid #09c;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n</style>"]}]}